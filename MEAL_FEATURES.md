# 餐點管理新功能說明

## 功能概述

新的餐點管理系統支持以下功能：

### 1. 多餐點支持
- 每天可以有多個午餐或多個晚餐
- 每個餐點都有獨立的時間槽
- 支持不同的參與者和餐廳信息

### 2. 時間槽管理
- 每個餐點都有可自定義的時間槽（如：12:00, 19:30）
- 時間槽會影響餐點的顯示順序
- 支持任意時間安排

### 3. 餐點移動功能
- 可以將餐點移動到其他日期
- 支持跨日期的餐點重新安排
- 移動後會自動從原日期移除

### 4. 增強的餐點信息
- 參與者管理（可選擇多個成員）
- 餐廳預訂信息（地點、時間、人數、價格等）
- 訂位狀態追蹤
- Google Maps 連結支持

## 使用方法

### 新增餐點
1. 點擊日期行中的「新增餐點」按鈕
2. 選擇餐點類型（午餐/晚餐）
3. 設置時間槽
4. 填寫備註和參與者
5. 添加餐廳信息（可選）
6. 點擊「儲存」

### 編輯餐點
1. 點擊餐點卡片上的編輯圖標
2. 修改相關信息
3. 點擊「儲存」

### 移動餐點
1. 點擊餐點卡片上的移動圖標（黃色箭頭）
2. 選擇目標日期
3. 確認移動

### 刪除餐點
1. 點擊餐點卡片上的刪除圖標（紅色垃圾桶）
2. 確認刪除

## 界面說明

### 主表格
- 日期列：顯示日期和星期
- 餐點安排列：顯示該日期的所有餐點
- 特別行程列：顯示特別活動

### 餐點卡片
- 時間槽標籤：藍色時間標籤
- 餐點類型：橙色（午餐）或紫色（晚餐）
- 訂位狀態：綠色「已訂位」標籤
- 參與者：藍色用戶圖標
- 餐廳信息：綠色地點圖標等

### 餐點管理模態框
- 當前餐點列表
- 新增餐點按鈕
- 編輯、移動、刪除操作
- 儲存所有變更

## 技術特點

### 數據結構
- 向後兼容舊的 lunch/dinner 結構
- 新的 meals 陣列支持多餐點
- 每個餐點都有唯一 ID

### 狀態管理
- 本地狀態管理餐點數據
- 保存時同步到服務器
- 支持實時編輯和預覽

### 用戶體驗
- 直觀的拖拽式移動
- 清晰的視覺反饋
- 響應式設計

## 注意事項

1. **數據遷移**：舊的行程數據會自動轉換為新格式
2. **時間槽**：建議使用標準時間格式（如：12:00, 19:30）
3. **餐點移動**：移動後需要在目標日期重新添加餐點
4. **參與者**：可以選擇多個成員參與同一餐點
5. **餐廳信息**：所有餐廳相關信息都是可選的

## 未來改進

- [ ] 真正的跨日期餐點移動
- [ ] 餐點模板功能
- [ ] 批量餐點操作
- [ ] 餐點統計和分析
- [ ] 餐廳推薦系統
